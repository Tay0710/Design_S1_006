# ELEC5550 Group Project (Team 0-06)

**Students Involved:**
- Aidan	Wheller
- Dorothy Jong
- Emersyn Johnson
- Owen Spicer
- Samuel Dixon
- Taylah Karran

## üìÅ Project Overview - Flight Computer Firmware

This folder contains the flight computer firmware intended for the custom flight computer PCB. The purpose of this firmware is to autonomously fly the drone by sending flight commands, through SBUS protocol, which are generated by the onboard flight control algorithms. The autonomous flight control algorithm is largely based on a left-wall following algorithm, with ultrasonic and ToF array sensors used to detect the walls and other obstacles. The drone maintains a constant distance from the wall by adjusting its roll (sent via SBUS) using a modified PD-control loop.

---
## Execution Order
### **A. Install VSCode and PlatformIO**
1. To run PlatformIO, download VSCode from the following [link](https://platformio.org/platformio-ide).
1. Open Extensions in VSCode and download PlatformIO from VSCode Extensions.

### **B. Uploading the Firmware** 
1. Open the ... folder as a project in PlatformIO.
1. Connect the ESP32-S3 flight computer board to your PC via the USB micro-B port.
1. Click the upload button on the PlatformIO to upload the firmware. Note: you may need to enter boot mode. To do this, press the boot button when resetting or powering on the board.

### **C. Executing a Scan**
1. Remove USB connection to laptop/PC.
2. Make sure that the LoRa kill switch is switched off.
3. As instructed in the user manual, make sure to position the drone using the launch rails and launch pad. Plug in the 2S battery. Wait 5 seconds for the IMU to calibrate.
4. Remove the launch rails and place the drone on the launch pad at the starting position.
5. Power on the LoRa kill switch.
6. To begin autonomous operation, press the red button on the LoRa kill switch. The OLED display on the kill switch displays the message being transmitted.
7. To stop autonomous opeartion, press the red button on the LoRa kill switch again to send a "STOP" message, killing power to all the motors within 5 seconds.

Note: the red LED on the flight controller PCB indicates that the PCB is being powered.

